<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Random Tree Cutter Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<style>
body {
    font-family: Arial, sans-serif;
    background-color: #e0f7fa;
    text-align: center;
    margin: 0;
    padding: 0;
}

#game {
    width: 800px;
    max-width: 100%;
    margin: 20px auto;
    padding: 20px;
    border: 2px solid #00695c;
    border-radius: 10px;
    background-color: #b2dfdb;
    position: relative;
    overflow: hidden;
}

#tree-container {
    width: 100%;
    height: 400px;
    margin: 20px auto;
    position: relative;
}

#tree {
    width: 100px;
    height: 200px;
    position: absolute;
    bottom: 0;
    left: 350px;
    border-radius: 20px;
    background-color: green;
    transition: background-color 0.3s, transform 0.1s;
}

#leaves {
    width: 200px;
    height: 150px;
    position: absolute;
    bottom: 150px;
    left: 325px;
    border-radius: 50%;
    background-color: green;
    transition: background-color 0.3s, transform 0.1s;
}

#player {
    width: 50px;
    height: 120px;
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-200%);
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.1s;
}

#player .head {
    width: 20px;
    height: 20px;
    background-color: #ffcc99;
    border-radius: 50%;
}

#player .body {
    width: 20px;
    height: 50px;
    background-color: #ff5722;
    margin-top: 2px;
}

#player .axe {
    width: 6px;
    height: 50px;
    background-color: #555;
    margin-top: 2px;
    transform-origin: top;
    transition: transform 0.1s;
}

#treeHealthBar {
    width: 100%;
    height: 20px;
    background-color: #c8e6c9;
    border: 1px solid #388e3c;
    border-radius: 10px;
    margin-top: 10px;
}

#treeHealthFill {
    height: 100%;
    background-color: #388e3c;
    width: 100%;
    border-radius: 10px;
}

/* Inventory */
#inventory {
    margin-top: 20px;
    background-color: #aed581;
    padding: 10px;
    border-radius: 10px;
    cursor:pointer;
}

#inventory span {
    display: inline-block;
    margin: 0 10px;
}

/* Mobile cut button */
#mobileCutBtn {
    display:none;
    padding:15px 30px;
    font-size:20px;
    margin-top:20px;
    background:#ff5722;
    color:white;
    border:none;
    border-radius:8px;
}

/* Mode Select Screen */
#modeSelect {
    position: fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:#000000dd;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    z-index:2000;
}

#modeSelect h1 {
    color:white;
    font-size:32px;
}

/* Mod Menu */
#modMenu {
    display:none;
    position:absolute;
    top:50px;
    left:50%;
    transform:translateX(-50%);
    width:320px;
    background-color:#fff;
    border:2px solid #000;
    border-radius:10px;
    padding:10px;
    z-index:3000;
    text-align:center;
}

#modMenu button {
    width:90%;
    margin:5px auto;
}
</style>
</head>
<body>

<!-- MODE SELECT -->
<div id="modeSelect">
    <h1>Choose Game Mode</h1>
    <button onclick="setMode('pc')" style="font-size:22px;">PC Mode</button>
    <button onclick="setMode('mobile')" style="font-size:22px;">Mobile Mode</button>
</div>

<h1>Random Tree Cutter Game</h1>

<div id="game">

    <p>Level: <span id="level">1</span></p>
    <p>Money: $<span id="money">0</span></p>

    <div id="tree-container">
        <div id="leaves"></div>
        <div id="tree"></div>

        <div id="player">
            <div class="head"></div>
            <div class="body"></div>
            <div class="axe"></div>
        </div>

        <div id="treeHealthBar">
            <div id="treeHealthFill"></div>
        </div>
    </div>

    <p id="pcText">Press <strong>SPACE</strong> or <strong>Click</strong> to cut (PC Mode)</p>

    <!-- Inventory -->
    <div id="inventory">
        <h3>Inventory</h3>
        <span>Wood: <span id="woodCount">0</span></span>
        <button onclick="sellWood()">Sell Wood</button>
    </div>

    <!-- Normal Shop -->
    <h3 id="shopHeader">Shop</h3>
    <div id="shop">
        <button onclick="buyTool('axe')">Axe ($50)</button>
        <button onclick="buyTool('chainsaw')">Chainsaw ($200)</button>
        <button onclick="buyTool('superSaw')">Super Saw ($500)</button>
    </div>

    <!-- Advanced Shop (Lvl 50 + Super Saw or higher) -->
    <h3 id="shop2Header" style="display:none;">Advanced Shop</h3>
    <div id="advancedShop" style="display:none;">
        <button onclick="buyAdvancedTool('diamondSaw')">Diamond Saw ($25,000)</button>
        <button onclick="buyAdvancedTool('plasmaCutter')">Plasma Cutter ($75,000)</button>
        <button onclick="buyAdvancedTool('quantumAxe')">Quantum Axe ($250,000)</button>
    </div>

    <!-- Mobile Cut Button -->
    <button id="mobileCutBtn" onclick="cutTree()">Cut Tree</button>

    <!-- MOD MENU -->
    <div id="modMenu">
        <h3 style="margin-bottom:10px;">Mod Menu</h3>
        <div style="max-height:300px; overflow-y:auto; text-align:left; padding:5px;">
            <button onclick="modAddMoney()">Add $1000</button>
            <button onclick="modAddMoney(10000)">Add $10,000</button>
            <button onclick="modAddWood()">Add 100 Wood</button>
            <button onclick="modAddWood(500)">Add 500 Wood</button>
            <button onclick="modLevelUp()">Level Up</button>
            <button onclick="modSetLevel(50)">Set Level 50</button>
            <button onclick="modPowerTool()">Give Super Saw</button>
            <button onclick="modGiveTool('Diamond Saw')">Give Diamond Saw</button>
            <button onclick="modGiveTool('Plasma Cutter')">Give Plasma Cutter</button>
            <button onclick="modGiveTool('Quantum Axe')">Give Quantum Axe</button>
            <button onclick="unlockAllShops()">Unlock All Shops</button>
            <button onclick="resetGame()">Reset Game</button>
        </div>
        <br>
        <button onclick="closeModMenu()">Close</button>
    </div>

</div>

<script>
// --- MODE SYSTEM ---
let gameMode = "pc";
let mobileAlertShown = false;

function setMode(mode) {
    gameMode = mode;
    document.getElementById("modeSelect").style.display = "none";

    if (mode === "mobile") enableMobileMode();
    else alert("PC Mode Activated.\nUse SPACE or click to cut.");
}

function enableMobileMode() {
    if (!mobileAlertShown) {
        alert("Mobile Mode Activated!\nUse the big button to cut.");
        mobileAlertShown = true;
    }
    document.getElementById("mobileCutBtn").style.display = "inline-block";
    document.getElementById("pcText").style.display = "none";

    treeEl.style.width = "140px";
    treeEl.style.height = "240px";
    leavesEl.style.width = "260px";
    leavesEl.style.height = "180px";
    treeEl.style.left = "calc(50% - 70px)";
    leavesEl.style.left = "calc(50% - 130px)";
}

// --- GAME VARIABLES ---
let level = 1;
let money = 0;
let wood = 0;
let tool = { name: "Basic Axe", power: 1 };

const trees = [
    { name: "Small Tree", health: 10, reward: 1, color: "#7CFC00", leavesColor: "#32CD32" },
    { name: "Medium Tree", health: 20, reward: 3, color: "#228B22", leavesColor: "#006400" },
    { name: "Big Tree", health: 50, reward: 10, color: "#8B4513", leavesColor: "#556B2F" }
];

const tier2Trees = [
    { name: "Ironwood Tree", health: 200, reward: 50, color: "#4d2600", leavesColor: "#1a3300" },
    { name: "Crystal Tree", health: 350, reward: 90, color: "#66ccff", leavesColor: "#0099cc" },
    { name: "Obsidian Tree", health: 600, reward: 150, color: "#2b2b2b", leavesColor: "#111" }
];

let currentTree = {...trees[0]};
let treeHealth = currentTree.health;

const levelEl = document.getElementById("level");
const moneyEl = document.getElementById("money");
const woodEl = document.getElementById("woodCount");
const treeHealthFill = document.getElementById("treeHealthFill");
const playerEl = document.querySelector("#player");
const axeEl = document.querySelector("#player .axe");
const treeEl = document.getElementById("tree");
const leavesEl = document.getElementById("leaves");

// --- CUT TREE ---
function cutTree() {
    axeEl.style.transform = "rotate(-60deg)";
    playerEl.style.transform = "translateX(-200%) rotate(-10deg)";
    setTimeout(()=>{ axeEl.style.transform="rotate(0deg)"; playerEl.style.transform="translateX(-200%) rotate(0deg)"; },200);

    treeEl.style.transform="rotate(-5deg)";
    leavesEl.style.transform="rotate(5deg)";
    setTimeout(()=>{ treeEl.style.transform="rotate(0)"; leavesEl.style.transform="rotate(0)"; },200);

    treeHealth -= tool.power;

    if(treeHealth <=0){
        wood += currentTree.reward;
        level++;
        spawnTree();
        alert(`You cut a ${currentTree.name} and got ${currentTree.reward} wood!`);
    }
    updateUI();
}

// --- SPAWN TREE ---
function spawnTree() {
    const tier2Tools = ["Super Saw","Diamond Saw","Plasma Cutter","Quantum Axe"];
    if(level>=50 && tier2Tools.includes(tool.name)){
        currentTree = {...tier2Trees[Math.floor(Math.random()*tier2Trees.length)]};
    } else {
        currentTree = {...trees[Math.floor(Math.random()*trees.length)]};
    }
    treeHealth = currentTree.health + (level-1)*4;
    treeEl.style.backgroundColor = currentTree.color;
    leavesEl.style.backgroundColor = currentTree.leavesColor;
}

// --- SELL WOOD ---
function sellWood(){ if(wood===0){alert("No wood to sell!");return;} money+=wood*5; alert(`Sold ${wood} wood for $${wood*5}!`); wood=0; updateUI(); }

// --- SHOP ---
function buyTool(name){
    if(name==="axe" && money>=50){money-=50;tool={name:"Axe",power:3};}
    else if(name==="chainsaw" && money>=200){money-=200;tool={name:"Chainsaw",power:10};}
    else if(name==="superSaw" && money>=500){money-=500;tool={name:"Super Saw",power:25};}
    else{alert("Not enough money!");return;}
    updateUI(); alert("Purchased "+tool.name);
}
function buyAdvancedTool(name){
    if(name==="diamondSaw" && money>=25000){money-=25000;tool={name:"Diamond Saw",power:60};}
    else if(name==="plasmaCutter" && money>=75000){money-=75000;tool={name:"Plasma Cutter",power:150};}
    else if(name==="quantumAxe" && money>=250000){money-=250000;tool={name:"Quantum Axe",power:300};}
    else{alert("Not enough money!");return;}
    updateUI(); alert("Purchased "+tool.name);
}

// --- UPDATE UI ---
function updateUI(){
    levelEl.textContent=level;
    moneyEl.textContent=money;
    woodEl.textContent=wood;
    treeHealthFill.style.width=(treeHealth/currentTree.health*100)+"%";

    const tier2Tools=["Super Saw","Diamond Saw","Plasma Cutter","Quantum Axe"];
    if(level>=50 && tier2Tools.includes(tool.name)){
        document.getElementById("shop2Header").style.display="block";
        document.getElementById("advancedShop").style.display="block";
    }
}

// --- PC CONTROLS ---
document.addEventListener("keydown",e=>{if(gameMode==="pc"&&e.code==="Space")cutTree();});
treeEl.addEventListener("click",()=>{if(gameMode==="pc")cutTree();});

// --- MOD MENU ACTIVATION ---
let lastInvClick=0;
document.getElementById("inventory").addEventListener("click",()=>{
    let now=Date.now();
    if(now-lastInvClick<300) openModMenu();
    lastInvClick=now;
});

// --- MOD MENU FUNCTIONS ---
function openModMenu(){document.getElementById("modMenu").style.display="block";}
function closeModMenu(){document.getElementById("modMenu").style.display="none";}
function modAddMoney(amount=1000){money+=amount;updateUI();alert(`Added $${amount}!`);}
function modAddWood(amount=100){wood+=amount;updateUI();alert(`Added ${amount} wood!`);}
function modLevelUp(){level++;spawnTree();updateUI();alert(`Level Up! Now level ${level}`);}
function modSetLevel(lvl){level=lvl;spawnTree();updateUI();alert(`Level set to ${lvl}`);}
function modPowerTool(){tool={name:"Super Saw",power:25};alert("Super Saw Granted!");updateUI();}
function modGiveTool(name){const tools={"Diamond Saw":60,"Plasma Cutter":150,"Quantum Axe":300};if(tools[name]){tool={name:name,power:tools[name]};alert(`${name} Granted!`);updateUI();}}
function unlockAllShops(){document.getElementById("shop2Header").style.display="block";document.getElementById("advancedShop").style.display="block";alert("All Shops Unlocked!");}
function resetGame(){level=1;money=0;wood=0;tool={name:"Basic Axe",power:1};spawnTree();updateUI();alert("Game Reset!");}

// --- INIT ---
spawnTree();updateUI();
</script>

</body>
</html>
